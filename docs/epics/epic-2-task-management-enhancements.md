# Epic 2.1: Task Management Enhancements

**Epic ID:** Epic 2.1
**Type:** Brownfield Enhancement
**Priority:** P2 (Medium)
**Estimated Effort:** 20-27 hours
**Status:** Ready for Development
**Owner:** PM John ğŸ“‹

---

## Epic Goal

å¢å¼º Focus Flow çš„ä»»åŠ¡ç®¡ç†åŠŸèƒ½ï¼Œé€šè¿‡æ·»åŠ è§†è§‰ä¼˜åŒ–ã€æœç´¢èƒ½åŠ›ã€æ€§èƒ½ä¼˜åŒ–ã€ç”¨æˆ·å‹å¥½çš„äº¤äº’å’Œå¿«æ·æ“ä½œï¼Œæ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒå’Œå·¥ä½œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨ä»»åŠ¡åˆ—è¡¨è¾ƒé•¿å’Œç§»åŠ¨ç«¯ä½¿ç”¨åœºæ™¯ä¸‹ã€‚

---

## Background & Context

### Current State

Focus Flow å·²å®ç° Epic 1-6 çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
- âœ… åŸºç¡€è®¾æ–½å’Œç”¨æˆ·è®¤è¯ (Epic 1)
- âœ… æ ¸å¿ƒä»»åŠ¡ CRUD æ“ä½œ (å®ç°äº Epic 3)
- âœ… å½“å‰è§†å›¾å’Œä¸“æ³¨æ¨¡å¼ (Epic 3)
- âœ… ç•ªèŒ„é’Ÿè®¡æ—¶å™¨ (Epic 4)
- âœ… å®Œæ•´å›½é™…åŒ–æ”¯æŒ (Epic 5)
- âœ… ç•ªèŒ„é’Ÿç»Ÿè®¡å¯è§†åŒ– (Epic 6)

### Gap Analysis

è™½ç„¶æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ï¼Œä½†åœ¨ Epic 2 (åŸ PRD ä¸­çš„ä»»åŠ¡ç®¡ç†) ä¸­è§„åˆ’çš„ä¸€äº›å¢å¼ºåŠŸèƒ½å°šæœªå®ç°ï¼š

**ç¼ºå¤±åŠŸèƒ½:**
1. æ—¶é—´æ•æ„Ÿåº¦è§†è§‰æ ‡è¯†ä¸æ˜æ˜¾ï¼ˆä»…æ–‡æœ¬æ˜¾ç¤ºï¼‰
2. ç¼ºå°‘ä»»åŠ¡æœç´¢åŠŸèƒ½ï¼ˆä»»åŠ¡å¤šæ—¶æŸ¥æ‰¾å›°éš¾ï¼‰
3. å¤§é‡ä»»åŠ¡æ—¶æ€§èƒ½æœªä¼˜åŒ–ï¼ˆ> 100 ä¸ªä»»åŠ¡ï¼‰
4. è¯¯åˆ é™¤ä»»åŠ¡æ— æ³•æ¢å¤
5. ç¼ºå°‘é”®ç›˜å¿«æ·é”®ï¼ˆé™ä½é«˜æ•ˆç”¨æˆ·ä½“éªŒï¼‰
6. ç§»åŠ¨ç«¯ç¼ºå°‘è‡ªç„¶çš„æ‰‹åŠ¿äº¤äº’

**ç”¨æˆ·å½±å“:**
- é«˜çº§ç”¨æˆ·æ„Ÿåˆ°æ“ä½œæ•ˆç‡ä¸è¶³
- ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¸å¤Ÿæµç•…
- ä»»åŠ¡ç®¡ç†çš„å¯ç”¨æ€§æœ‰æå‡ç©ºé—´

---

## Epic Description

### Existing System Context

**Current Task Management Functionality:**
- ä»»åŠ¡ CRUD æ“ä½œå®Œæ•´å®ç°
- åŸºäº Supabase + React + TypeScript + Zustand
- ä½¿ç”¨ shadcn/ui ç»„ä»¶åº“
- å·²æœ‰æ‹–æ”¾æ’åºåŠŸèƒ½
- å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒ (react-i18next)

**Technology Stack:**
- Frontend: React 18 + TypeScript 5 + Vite
- UI: shadcn/ui + Tailwind CSS
- State: Zustand
- Database: Supabase (PostgreSQL + RLS)
- Testing: Vitest + React Testing Library

**Integration Points:**
- `apps/web/src/pages/TasksPage.tsx` - ä¸»ä»»åŠ¡é¡µé¢
- `apps/web/src/components/tasks/TaskList.tsx` - ä»»åŠ¡åˆ—è¡¨ç»„ä»¶
- `apps/web/src/components/tasks/TaskCard.tsx` - ä»»åŠ¡å¡ç‰‡ç»„ä»¶
- `apps/web/src/components/tasks/SortableTaskList.tsx` - å¯æ’åºåˆ—è¡¨
- `apps/web/src/services/taskService.ts` - ä»»åŠ¡æœåŠ¡å±‚
- `apps/web/src/stores/taskStore.ts` - ä»»åŠ¡çŠ¶æ€ç®¡ç†

### Enhancement Details

æ­¤ Epic å°†æ·»åŠ  6 ä¸ªå¢å¼ºåŠŸèƒ½ï¼ŒæŒ‰ä¼˜å…ˆçº§åˆ†ä¸ºä¸‰å±‚ï¼š

**Tier 1: æ ¸å¿ƒå¢å¼º (é«˜ä¼˜å…ˆçº§)**
1. **æ—¶é—´æ•æ„Ÿåº¦å¾½ç« ç»„ä»¶** - é€šè¿‡é¢œè‰²ç¼–ç çš„å¾½ç« æ›¿ä»£çº¯æ–‡æœ¬ï¼Œæå‡è§†è§‰è¯†åˆ«åº¦
2. **ä»»åŠ¡æœç´¢åŠŸèƒ½** - å®æ—¶æœç´¢ä»»åŠ¡æ ‡é¢˜å’Œæè¿°ï¼Œå¿«é€Ÿå®šä½ä»»åŠ¡
3. **æ’¤é”€åˆ é™¤åŠŸèƒ½** - 3ç§’æ’¤é”€æœŸï¼Œé˜²æ­¢è¯¯åˆ é‡è¦ä»»åŠ¡

**Tier 2: ä½“éªŒæå‡ (ä¸­ä¼˜å…ˆçº§)**
4. **é”®ç›˜å¿«æ·é”®** - ä¸ºé«˜æ•ˆç”¨æˆ·æä¾›å¿«æ·æ“ä½œ (Ctrl+N, â†‘â†“, Enter, Space, Del)
5. **ç§»åŠ¨ç«¯æ»‘åŠ¨æ‰‹åŠ¿** - å³æ»‘å®Œæˆã€å·¦æ»‘åˆ é™¤ï¼Œæå‡ç§»åŠ¨ç«¯ä½“éªŒ

**Tier 3: æ€§èƒ½ä¼˜åŒ– (ä½ä¼˜å…ˆçº§)**
6. **è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–** - å½“ä»»åŠ¡æ•° > 50 æ—¶è‡ªåŠ¨å¯ç”¨ï¼Œä¿æŒæµç•…æ€§èƒ½

### How It Integrates

- **éä¾µå…¥æ€§é›†æˆ**: æ‰€æœ‰å¢å¼ºåŠŸèƒ½éƒ½æ˜¯ç°æœ‰åŠŸèƒ½çš„å¢é‡æ·»åŠ ï¼Œä¸ç ´åç°æœ‰ API
- **æ¸è¿›å¢å¼º**: åŠŸèƒ½å¯ä»¥ç‹¬ç«‹å®ç°å’Œå‘å¸ƒï¼Œäº’ä¸ä¾èµ–
- **å‘åå…¼å®¹**: ä¿æŒç°æœ‰åŠŸèƒ½å®Œå…¨æ­£å¸¸ï¼Œå¢å¼ºåŠŸèƒ½ä½œä¸ºå¯é€‰å±‚
- **ç§»åŠ¨ä¼˜å…ˆ**: éƒ¨åˆ†åŠŸèƒ½ä»…åœ¨ç§»åŠ¨ç«¯å¯ç”¨ï¼ˆå¦‚æ»‘åŠ¨æ‰‹åŠ¿ï¼‰

### Success Criteria

**å®šé‡æŒ‡æ ‡:**
- ä»»åŠ¡æœç´¢å“åº”æ—¶é—´ < 300ms
- è™šæ‹Ÿæ»šåŠ¨å¸§ç‡ > 30 FPS (1000 ä»»åŠ¡)
- å¿«æ·é”®å“åº”æ—¶é—´ < 100ms
- ç§»åŠ¨ç«¯æ‰‹åŠ¿æˆåŠŸç‡ > 90%

**å®šæ€§æŒ‡æ ‡:**
- ç”¨æˆ·å¯ä»¥å¿«é€Ÿè¯†åˆ«ä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆå¾½ç« ï¼‰
- ç”¨æˆ·å¯ä»¥å¿«é€Ÿæ‰¾åˆ°ç‰¹å®šä»»åŠ¡ï¼ˆæœç´¢ï¼‰
- é«˜çº§ç”¨æˆ·æ„Ÿåˆ°æ“ä½œæ•ˆç‡æå‡ï¼ˆå¿«æ·é”®ï¼‰
- ç§»åŠ¨ç«¯ç”¨æˆ·æ“ä½œæ›´è‡ªç„¶æµç•…ï¼ˆæ‰‹åŠ¿ï¼‰

---

## Stories

### Story 2.1: Time Sensitivity Badge Component
**ä¼˜å…ˆçº§:** P2 | **é¢„ä¼°:** 2-3h | **çŠ¶æ€:** Ready

åˆ›å»ºé¢œè‰²ç¼–ç çš„å¾½ç« ç»„ä»¶æ›¿ä»£æ–‡æœ¬æ˜¾ç¤ºï¼š
- çº¢è‰² (today) / é»„è‰² (this_week) / è“è‰² (anytime)
- Compact å’Œ default ä¸¤ç§æ¨¡å¼
- å®Œæ•´å›½é™…åŒ–æ”¯æŒ
- é›†æˆåˆ° TaskList, FocusTaskCard, CreateDialog, EditDialog

**ä»·å€¼:** æå‡ä»»åŠ¡ä¼˜å…ˆçº§çš„è§†è§‰è¯†åˆ«åº¦ï¼Œå‡å°‘è®¤çŸ¥è´Ÿæ‹…

---

### Story 2.2: Task Search Functionality
**ä¼˜å…ˆçº§:** P2 | **é¢„ä¼°:** 3-4h | **çŠ¶æ€:** Ready

æ·»åŠ å®æ—¶ä»»åŠ¡æœç´¢åŠŸèƒ½ï¼š
- æœç´¢æ¡† + æ¸…é™¤æŒ‰é’®
- 300ms é˜²æŠ–ä¼˜åŒ–
- æœç´¢æ ‡é¢˜å’Œæè¿°å­—æ®µ
- æ˜¾ç¤ºåŒ¹é…ç»“æœæ•°é‡
- ç©ºçŠ¶æ€å‹å¥½æç¤º

**ä»·å€¼:** åœ¨ä»»åŠ¡åˆ—è¡¨è¾ƒé•¿æ—¶å¿«é€Ÿå®šä½ï¼ŒèŠ‚çœæµè§ˆæ—¶é—´

---

### Story 2.3: Virtual Scrolling Optimization
**ä¼˜å…ˆçº§:** P3 | **é¢„ä¼°:** 4-6h | **çŠ¶æ€:** Ready

ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–å¤§åˆ—è¡¨æ€§èƒ½ï¼š
- é›†æˆ @tanstack/react-virtual
- è‡ªåŠ¨åˆ¤æ–­å¯ç”¨é˜ˆå€¼ (> 50 ä»»åŠ¡)
- æ”¯æŒåŠ¨æ€é«˜åº¦
- å…¼å®¹æ‹–æ”¾æ’åº

**ä»·å€¼:** ç¡®ä¿åœ¨ä»»åŠ¡æ•°é‡å¾ˆå¤šæ—¶ä¿æŒæµç•…ä½“éªŒ

---

### Story 2.4: Undo Delete Functionality
**ä¼˜å…ˆçº§:** P2 | **é¢„ä¼°:** 3-4h | **çŠ¶æ€:** Ready

å®ç°æ’¤é”€åˆ é™¤åŠŸèƒ½ï¼š
- åˆ é™¤åæ˜¾ç¤º Toast + æ’¤é”€æŒ‰é’®
- 3 ç§’æ’¤é”€æœŸ
- å»¶è¿Ÿåˆ é™¤æœºåˆ¶ï¼ˆå‰ç«¯ç«‹å³ç§»é™¤ï¼Œåç«¯å»¶è¿Ÿè°ƒç”¨ï¼‰
- æ”¯æŒå¤šä¸ªå¾…åˆ é™¤ä»»åŠ¡

**ä»·å€¼:** é˜²æ­¢è¯¯æ“ä½œæ°¸ä¹…ä¸¢å¤±é‡è¦ä»»åŠ¡ï¼Œæå‡å®‰å…¨æ„Ÿ

---

### Story 2.5: Keyboard Shortcuts
**ä¼˜å…ˆçº§:** P2 | **é¢„ä¼°:** 4-5h | **çŠ¶æ€:** Ready

æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒï¼š
- å…¨å±€: Ctrl+N (æ–°å»º), Ctrl+K (æœç´¢), Ctrl+/ (å¸®åŠ©)
- ä»»åŠ¡æ“ä½œ: â†‘â†“ (å¯¼èˆª), Enter (ç¼–è¾‘), Space (å®Œæˆ), Del (åˆ é™¤)
- å¿«æ·é”®å¸®åŠ©é¢æ¿
- æ£€æµ‹è¾“å…¥æ¡†ç„¦ç‚¹ï¼Œé¿å…å†²çª

**ä»·å€¼:** å¤§å¹…æå‡é«˜æ•ˆç”¨æˆ·çš„æ“ä½œæ•ˆç‡

---

### Story 2.6: Mobile Swipe Gestures
**ä¼˜å…ˆçº§:** P2 | **é¢„ä¼°:** 4-5h | **çŠ¶æ€:** Ready

æ·»åŠ ç§»åŠ¨ç«¯æ»‘åŠ¨æ‰‹åŠ¿ï¼š
- å³æ»‘å®Œæˆä»»åŠ¡ (ç»¿è‰²èƒŒæ™¯ + âœ“)
- å·¦æ»‘æ˜¾ç¤ºåˆ é™¤æŒ‰é’® (çº¢è‰²èƒŒæ™¯)
- å¹³æ»‘åŠ¨ç”»å’Œè§†è§‰åé¦ˆ
- ä»…ç§»åŠ¨ç«¯ (< 768px) å¯ç”¨
- å…¼å®¹æ‹–æ”¾å’Œç‚¹å‡»æ“ä½œ

**ä»·å€¼:** æä¾›æ›´è‡ªç„¶æµç•…çš„ç§»åŠ¨ç«¯äº¤äº’ä½“éªŒ

---

## Technical Architecture

### Component Hierarchy

```
App
â””â”€â”€ TasksPage
    â”œâ”€â”€ SearchBox (æ–°å¢ - Story 2.2)
    â”‚   â””â”€â”€ useDebounce hook
    â”œâ”€â”€ ShortcutsListener (æ–°å¢ - Story 2.5)
    â”‚   â””â”€â”€ useKeyboardShortcuts hook
    â””â”€â”€ TaskList
        â”œâ”€â”€ VirtualScroller (æ–°å¢ - Story 2.3)
        â””â”€â”€ SwipeableTaskCard (æ–°å¢ - Story 2.6)
            â”œâ”€â”€ TimeSensitivityBadge (æ–°å¢ - Story 2.1)
            â””â”€â”€ TaskCard (ç°æœ‰)

Dialogs:
â”œâ”€â”€ CreateTaskDialog
â”‚   â””â”€â”€ TimeSensitivityBadge (é¢„è§ˆ)
â”œâ”€â”€ EditTaskDialog
â”‚   â””â”€â”€ TimeSensitivityBadge (é¢„è§ˆ)
â”œâ”€â”€ DeleteConfirmDialog (å¢å¼º - Story 2.4)
â””â”€â”€ ShortcutsHelpDialog (æ–°å¢ - Story 2.5)
```

### State Management

```typescript
// Zustand Store æ‰©å±•
interface TaskStore {
  // ç°æœ‰
  tasks: Task[]
  isLoading: boolean

  // Story 2.2 - æœç´¢
  searchQuery: string
  setSearchQuery: (query: string) => void

  // Story 2.4 - æ’¤é”€åˆ é™¤
  pendingDeletes: Map<string, { task: Task; timeoutId: NodeJS.Timeout }>
  markForDeletion: (taskId: string) => void
  undoDelete: (taskId: string) => void
  confirmDelete: (taskId: string) => Promise<void>

  // Story 2.5 - é”®ç›˜å¯¼èˆª
  selectedTaskIndex: number
  setSelectedTaskIndex: (index: number) => void
}
```

### New Dependencies

```json
{
  "dependencies": {
    "@tanstack/react-virtual": "^3.0.0",    // Story 2.3
    "react-swipeable": "^7.0.0",            // Story 2.6
    "framer-motion": "^10.0.0"              // Story 2.6 (å¯é€‰ï¼Œå·²å­˜åœ¨)
  }
}
```

---

## Compatibility Requirements

### Backward Compatibility

- âœ… **Existing APIs Unchanged**: æ‰€æœ‰ç°æœ‰ç»„ä»¶ props å’Œå‡½æ•°ç­¾åä¿æŒä¸å˜
- âœ… **Database Schema**: æ— éœ€æ•°æ®åº“æ›´æ”¹ï¼Œä»…ä½¿ç”¨ç°æœ‰ tasks è¡¨
- âœ… **UI Patterns**: éµå¾ªç°æœ‰ shadcn/ui è®¾è®¡ç³»ç»Ÿ
- âœ… **Performance**: å¢å¼ºåŠŸèƒ½ä¸å½±å“ç°æœ‰åŠŸèƒ½æ€§èƒ½

### Integration Safeguards

- âœ… **åŠŸèƒ½å¼€å…³**: éƒ¨åˆ†åŠŸèƒ½å¯é€šè¿‡æ¡ä»¶åˆ¤æ–­ç¦ç”¨ï¼ˆå¦‚è™šæ‹Ÿæ»šåŠ¨é˜ˆå€¼ï¼‰
- âœ… **æ¸è¿›å¢å¼º**: åŠŸèƒ½å¯ç‹¬ç«‹å¯ç”¨/ç¦ç”¨ï¼Œäº’ä¸å½±å“
- âœ… **é™çº§æ–¹æ¡ˆ**: æ¯ä¸ªå¢å¼ºåŠŸèƒ½éƒ½æœ‰é™çº§è·¯å¾„ï¼ˆå¦‚ç§»åŠ¨ç«¯æ‰‹åŠ¿å¤±è´¥ä»å¯ç”¨æŒ‰é’®ï¼‰

---

## Risk Mitigation

### Primary Risks

**Risk 1: æ–°åŠŸèƒ½ä¸æ‹–æ”¾æ’åºå†²çª**
- **Likelihood:** Medium (è™šæ‹Ÿæ»šåŠ¨ã€æ»‘åŠ¨æ‰‹åŠ¿å¯èƒ½å†²çª)
- **Impact:** High (æ ¸å¿ƒåŠŸèƒ½å—æŸ)
- **Mitigation:**
  - ä¸¥æ ¼æµ‹è¯•æ‹–æ”¾ä¸è™šæ‹Ÿæ»šåŠ¨çš„å…¼å®¹æ€§
  - æ»‘åŠ¨æ‰‹åŠ¿åŒºåˆ†æ°´å¹³/å‚ç›´æ–¹å‘
  - å¿…è¦æ—¶å¯ç¦ç”¨å†²çªåŠŸèƒ½ï¼ˆå¦‚è™šæ‹Ÿæ»šåŠ¨æ—¶ç¦ç”¨æ‹–æ”¾ï¼‰
- **Rollback:** é€šè¿‡ feature flag å¿«é€Ÿç¦ç”¨æ–°åŠŸèƒ½

**Risk 2: å¿«æ·é”®ä¸æµè§ˆå™¨é»˜è®¤å†²çª**
- **Likelihood:** Medium
- **Impact:** Medium (ç”¨æˆ·å›°æƒ‘)
- **Mitigation:**
  - é¿å…å¸¸è§æµè§ˆå™¨å¿«æ·é”® (Ctrl+S, Ctrl+R ç­‰)
  - åœ¨è¾“å…¥æ¡†èšç„¦æ—¶ç¦ç”¨ä»»åŠ¡å¿«æ·é”®
  - æä¾›å¿«æ·é”®è‡ªå®šä¹‰é€‰é¡¹ï¼ˆæœªæ¥ï¼‰
- **Rollback:** ç§»é™¤å¿«æ·é”®ç›‘å¬å™¨

**Risk 3: ç§»åŠ¨ç«¯æ‰‹åŠ¿è¯¯è§¦å‘**
- **Likelihood:** Medium
- **Impact:** Low (ç”¨æˆ·å¯æ’¤é”€)
- **Mitigation:**
  - è®¾ç½®åˆç†çš„æ»‘åŠ¨é˜ˆå€¼ (40%)
  - ç»“åˆæ’¤é”€åˆ é™¤åŠŸèƒ½é™ä½è¯¯è§¦å½±å“
  - æä¾›ç”¨æˆ·æ•™è‚²ï¼ˆé¦–æ¬¡ä½¿ç”¨æç¤ºï¼‰
- **Rollback:** ç¦ç”¨æ‰‹åŠ¿ï¼Œä¿ç•™æŒ‰é’®æ“ä½œ

**Risk 4: æ€§èƒ½ä¼˜åŒ–å¼•å…¥æ–°æ€§èƒ½é—®é¢˜**
- **Likelihood:** Low
- **Impact:** Medium
- **Mitigation:**
  - ä½¿ç”¨ React DevTools Profiler æŒç»­ç›‘æ§
  - è™šæ‹Ÿæ»šåŠ¨ä»…åœ¨å¿…è¦æ—¶å¯ç”¨ (> 50 ä»»åŠ¡)
  - é˜²æŠ–/èŠ‚æµä¼˜åŒ–æœç´¢å’Œå¿«æ·é”®
- **Rollback:** ç¦ç”¨è™šæ‹Ÿæ»šåŠ¨

### Testing Strategy

**è‡ªåŠ¨åŒ–æµ‹è¯•:**
- å•å…ƒæµ‹è¯•è¦†ç›–æ‰€æœ‰æ–°ç»„ä»¶å’Œ Hooks
- é›†æˆæµ‹è¯•éªŒè¯ä¸ç°æœ‰åŠŸèƒ½å…¼å®¹æ€§
- E2E æµ‹è¯•å…³é”®ç”¨æˆ·æµç¨‹

**æ‰‹åŠ¨æµ‹è¯•:**
- çœŸæœºæµ‹è¯•ç§»åŠ¨ç«¯æ‰‹åŠ¿ (iOS + Android)
- è·¨æµè§ˆå™¨æµ‹è¯•å¿«æ·é”® (Chrome, Firefox, Safari)
- æ€§èƒ½æµ‹è¯• (100, 500, 1000 ä»»åŠ¡åœºæ™¯)
- å¯è®¿é—®æ€§æµ‹è¯• (WCAG AA)

---

## Implementation Plan

### Phase 1: æ ¸å¿ƒå¢å¼º (Week 1)
**Story 2.1 + 2.2 + 2.4** (8-11 hours)

è¿™ä¸‰ä¸ªæ•…äº‹æä¾›æœ€ç›´æ¥çš„ç”¨æˆ·ä»·å€¼ï¼š
- è§†è§‰ä¼˜åŒ–ï¼ˆå¾½ç« ï¼‰
- å®ç”¨åŠŸèƒ½ï¼ˆæœç´¢ï¼‰
- å®‰å…¨ç½‘ï¼ˆæ’¤é”€ï¼‰

**é‡Œç¨‹ç¢‘:** ç”¨æˆ·å¯ä»¥æ›´å¿«æ‰¾åˆ°å’Œè¯†åˆ«ä»»åŠ¡ï¼Œä¸æ€•è¯¯åˆ 

---

### Phase 2: ä½“éªŒæå‡ (Week 2)
**Story 2.5 + 2.6** (8-10 hours)

ä¸ºé«˜çº§ç”¨æˆ·å’Œç§»åŠ¨ç”¨æˆ·ä¼˜åŒ–ä½“éªŒï¼š
- æ¡Œé¢ç«¯å¿«æ·é”®
- ç§»åŠ¨ç«¯æ‰‹åŠ¿

**é‡Œç¨‹ç¢‘:** é«˜æ•ˆç”¨æˆ·å’Œç§»åŠ¨ç”¨æˆ·æ»¡æ„åº¦æå‡

---

### Phase 3: æ€§èƒ½ä¼˜åŒ– (Week 3, å¯é€‰)
**Story 2.3** (4-6 hours)

ä»…åœ¨ç”¨æˆ·åé¦ˆéœ€è¦æˆ–ä»»åŠ¡æ•°é‡ç¡®å®å¾ˆå¤§æ—¶å®ç°ï¼š
- è™šæ‹Ÿæ»šåŠ¨

**é‡Œç¨‹ç¢‘:** æ”¯æŒå¤§é‡ä»»åŠ¡åœºæ™¯

---

## Definition of Done

### Epic Level

- [x] æ‰€æœ‰ 6 ä¸ªæ•…äº‹çš„éªŒæ”¶æ ‡å‡†å®Œå…¨æ»¡è¶³
- [x] ç°æœ‰åŠŸèƒ½å›å½’æµ‹è¯•é€šè¿‡ (E2E æµ‹è¯•å¥—ä»¶)
- [x] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡ï¼ˆæœç´¢ < 300ms, å¿«æ·é”® < 100ms, æ»šåŠ¨ > 30 FPSï¼‰
- [x] å›½é™…åŒ–å®Œæ•´ï¼ˆæ‰€æœ‰æ–°æ–‡æœ¬å·²ç¿»è¯‘ï¼‰
- [x] æ— éšœç¢æ€§è¾¾æ ‡ (WCAG AA)
- [x] ä»£ç å®¡æŸ¥é€šè¿‡
- [x] æ–‡æ¡£æ›´æ–°ï¼ˆç”¨æˆ·æŒ‡å—ã€å¼€å‘æ–‡æ¡£ï¼‰
- [x] ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯å…¨é¢æµ‹è¯•
- [x] æ—  TypeScript é”™è¯¯
- [x] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 70% (æ–°ä»£ç )

### Story Level

å‚è§å„ä¸ª Story çš„ Definition of Done

---

## Success Metrics

### å®šé‡æŒ‡æ ‡ (å¯é€šè¿‡åˆ†æå·¥å…·æµ‹é‡)

- **æœç´¢ä½¿ç”¨ç‡**: > 30% çš„æ´»è·ƒç”¨æˆ·ä½¿ç”¨æœç´¢åŠŸèƒ½
- **å¿«æ·é”®ä½¿ç”¨ç‡**: > 20% çš„æ¡Œé¢ç”¨æˆ·ä½¿ç”¨å¿«æ·é”®
- **æ’¤é”€åˆ é™¤ä½¿ç”¨ç‡**: < 5% åˆ é™¤è¢«æ’¤é”€ (è¯´æ˜è¯¯åˆ å°‘)
- **ç§»åŠ¨ç«¯æ‰‹åŠ¿æˆåŠŸç‡**: > 90% æ‰‹åŠ¿æ“ä½œæˆåŠŸ

### å®šæ€§æŒ‡æ ‡ (ç”¨æˆ·åé¦ˆ)

- ç”¨æˆ·åé¦ˆä»»åŠ¡ç®¡ç†"æ›´é«˜æ•ˆ"
- ç§»åŠ¨ç«¯ç”¨æˆ·æ»¡æ„åº¦æå‡
- å‡å°‘"æ‰¾ä¸åˆ°ä»»åŠ¡"çš„æ”¯æŒè¯·æ±‚

---

## Dependencies

### Upstream Dependencies (å¿…é¡»å®Œæˆ)
- âœ… Epic 1: é¡¹ç›®åŸºç¡€è®¾æ–½
- âœ… Epic 3: æ ¸å¿ƒä»»åŠ¡ç®¡ç†

### Downstream Dependencies (ä¼šå—ç›Š)
- Epic 7+: æœªæ¥ä»»åŠ¡ç®¡ç†å¢å¼ºåŠŸèƒ½å¯ä»¥åŸºäºè¿™äº›æ”¹è¿›

### External Dependencies
- react-swipeable åº“
- @tanstack/react-virtual åº“
- shadcn/ui Badge ç»„ä»¶

---

## Open Questions

1. **è™šæ‹Ÿæ»šåŠ¨ä¸æ‹–æ”¾çš„å…¼å®¹æ€§** - éœ€è¦æŠ€æœ¯éªŒè¯
   - **å†³ç­–éœ€è¦**: å¦‚æœä¸å…¼å®¹ï¼Œæ˜¯å¦æ¥å—åœ¨è™šæ‹Ÿæ»šåŠ¨æ—¶ç¦ç”¨æ‹–æ”¾ï¼Ÿ

2. **å¿«æ·é”®å¯è‡ªå®šä¹‰æ€§** - æ˜¯å¦éœ€è¦ç”¨æˆ·è‡ªå®šä¹‰å¿«æ·é”®ï¼Ÿ
   - **å»ºè®®**: å…ˆå®ç°å›ºå®šå¿«æ·é”®ï¼Œæ ¹æ®åé¦ˆå†è€ƒè™‘è‡ªå®šä¹‰

3. **æ‰‹åŠ¿æ•™è‚²** - å¦‚ä½•è®©ç”¨æˆ·å‘ç°æ»‘åŠ¨æ‰‹åŠ¿åŠŸèƒ½ï¼Ÿ
   - **å»ºè®®**: é¦–æ¬¡ä½¿ç”¨æ—¶æ˜¾ç¤ºæç¤º Toast

4. **å¾½ç« é¢œè‰²** - å½“å‰é¢œè‰²æ˜¯å¦è‰²ç›²å‹å¥½ï¼Ÿ
   - **å»ºè®®**: åœ¨å®ç°æ—¶è¿›è¡Œè‰²ç›²å‹å¥½æ€§æµ‹è¯•

---

## Related Documentation

- **PRD:** [docs/prd.md](../prd.md) - Epic 2 åŸå§‹å®šä¹‰
- **Stories:**
  - [story-2.1-time-sensitivity-badge.md](../stories/story-2.1-time-sensitivity-badge.md)
  - [story-2.2-task-search.md](../stories/story-2.2-task-search.md)
  - [story-2.3-virtual-scrolling.md](../stories/story-2.3-virtual-scrolling.md)
  - [story-2.4-undo-delete.md](../stories/story-2.4-undo-delete.md)
  - [story-2.5-keyboard-shortcuts.md](../stories/story-2.5-keyboard-shortcuts.md)
  - [story-2.6-swipe-gestures.md](../stories/story-2.6-swipe-gestures.md)
- **Architecture:** [docs/architecture/tech-stack.md](../architecture/tech-stack.md)
- **Coding Standards:** [docs/architecture/coding-standards.md](../architecture/coding-standards.md)

---

## Changelog

| Date | Version | Changes | Author |
|------|---------|---------|--------|
| 2025-01-21 | 1.0 | Epic created with 6 stories | PM John |

---

**Epic Status:** âœ… Ready for Development

**Next Steps:**
1. Review and approve Epic with stakeholders
2. Prioritize stories for Sprint planning
3. Assign Story 2.1 to Dev team to start implementation
4. Set up tracking in project management tool
